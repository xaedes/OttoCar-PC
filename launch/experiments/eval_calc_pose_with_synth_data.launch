<launch>
    <group unless="$(has_param /guard/experiments/synth_data_veloc)">
        <param name="/guard/experiments/synth_data_veloc" value="True" />
        <node pkg="ottocar_utils" type="launch_guard.py" name="$(anon guard_experiments_synth_data_veloc)" args="/guard/experiments/synth_data_veloc" />    

        <!-- Prevent default configuraion as we don't want to 
        mess up the synthetic data with real data  -->
        <param name="/dont_include_default" value="True" />


        <!-- Use synthetic data instead of real data -->
        <remap from="/imu/data" to="/synth/imu" />
        <remap from="/velocity" to="/synth/velocity" />

        <!-- Synthesize data -->
        <include file="$(find ottocar_utils)/../../launch/synth/circular.launch" />
        
        <!-- Calculate pose from synthetic velocity and orientation data -->
        <include file="$(find ottocar_utils)/../../launch/pose/simple_integrate.launch" />
    </group>
</launch>